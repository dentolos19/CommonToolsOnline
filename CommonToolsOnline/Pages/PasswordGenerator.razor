@page "/PasswordGenerator"

<h1>Password Generator</h1>

<p>Your password is: @_password</p>

<EditForm Model="@_form" OnValidSubmit="@GeneratePassword">
    <DataAnnotationsValidator/>
    <ValidationSummary/>
    <div class="form-group">
        <label>Password Length</label>
        <InputNumber class="form-control" @bind-Value="_form.PasswordLength"/>
    </div>
    <button class="form-control" type="submit">Generate Password</button>
</EditForm>

@code
{

    private string _password;
    private PasswordGeneratorForm _form;

    protected override void OnInitialized()
    {
        _form = new PasswordGeneratorForm();
        GeneratePassword();
    }

    private void GeneratePassword()
    {
        var random = new Random();
        _password = new string(Enumerable.Repeat("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789", _form.PasswordLength).Select(index => index[random.Next(index.Length)]).ToArray());
    }

}